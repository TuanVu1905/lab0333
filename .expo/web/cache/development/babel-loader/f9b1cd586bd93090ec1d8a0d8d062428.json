{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\NHOM_5_FOOD_ORDERING_17DTHD1\\\\NHOM_5_FOOD_ORDERING_17DTHD1\\\\RN-AppFood\\\\src\\\\screens\\\\CardScreen.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { FlatList } from 'react-native-gesture-handler';\nimport { addProduct, removeProduct } from \"../redux\";\nimport { ButtonWithIcon, FoodCard } from \"../component\";\nimport { useNavigation } from \"../utils\";\nimport { connect } from 'react-redux';\n\nvar _CardScreen = function _CardScreen(props) {\n  var _props$userReducer2, _props$userReducer2$c, _props$userReducer3;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isCheckSignIn = _useState2[0],\n      setIsCheckSignIn = _useState2[1];\n\n  var _useNavigation = useNavigation(),\n      navigate = _useNavigation.navigate;\n\n  var _props$userReducer = props.userReducer,\n      cart = _props$userReducer.cart,\n      user = _props$userReducer.user;\n\n  var onTapFood = function onTapFood(item, eventName) {\n    if (eventName === 'go_detail') {\n      navigate('FoodDetailPage', {\n        food: item\n      });\n    }\n  };\n\n  useEffect(function () {\n    if (props.userReducer.cart.length === 0) {\n      setIsCheck(false);\n    } else {\n      setIsCheck(true);\n    }\n\n    console.log(cart.map(function (x) {\n      return x.unit;\n    }));\n  });\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isCheckCart = _useState4[0],\n      setIsCheck = _useState4[1];\n\n  var onTotal = function onTotal() {\n    var total = props.userReducer.cart.reduce(function (a, b) {\n      return a + b.unit * b.price;\n    }, 0);\n    return total;\n  };\n\n  var onTapLogin = function onTapLogin() {\n    if (isCheckCart === true) {\n      if (!user.vertified) {\n        navigate('LoginPage');\n      } else {\n        navigate('CartDetailPage');\n      }\n    } else {\n      alert('Your cart is empty');\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.navigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      height: 40,\n      alignItems: 'center',\n      marginLeft: 4\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, React.createElement(ButtonWithIcon, {\n    onTap: function onTap() {\n      return navigate('HomePage');\n    },\n    width: 40,\n    height: 50,\n    icon: require(\"../images/back_arrow.png\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }), React.createElement(View, {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'flex-end'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      fontWeight: 'bold',\n      textAlign: 'center',\n      padding: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, \"My Cart\"), React.createElement(Image, {\n    style: {\n      width: 40,\n      height: 40\n    },\n    source: require(\"../images/orders.png\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  })))), React.createElement(View, {\n    style: styles.body,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, (props == null ? void 0 : (_props$userReducer2 = props.userReducer) == null ? void 0 : (_props$userReducer2$c = _props$userReducer2.cart) == null ? void 0 : _props$userReducer2$c.length) !== 0 ? React.createElement(FlatList, {\n    showsVerticalScrollIndicator: false,\n    data: (props == null ? void 0 : (_props$userReducer3 = props.userReducer) == null ? void 0 : _props$userReducer3.cart) || [],\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(FoodCard, {\n        onUpdateCart: props.addProduct,\n        onRemove: props.removeProduct,\n        item: item,\n        onTap: onTapFood,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 55\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return \"\" + item._id;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }) : React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, \" Cart empty \"), React.createElement(Text, {\n    onPress: function onPress() {\n      return navigate('HomePage');\n    },\n    style: {\n      fontSize: 15,\n      marginLeft: 20,\n      fontStyle: 'italic',\n      color: 'orange'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, \"Continue shopping\"))), React.createElement(View, {\n    style: {\n      display: 'flex',\n      marginBottom: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-around',\n      paddingLeft: 20,\n      paddingRight: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      fontWeight: 'bold',\n      padding: 10,\n      color: 'orange'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \"Total : \"), React.createElement(Text, {\n    style: {\n      fontSize: 18,\n      fontStyle: 'italic',\n      padding: 10,\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, \"$\", onTotal())), React.createElement(View, {\n    style: {\n      height: 50,\n      marginLeft: 40,\n      alignItems: 'center',\n      borderWidth: 1,\n      borderColor: '#f3f3f3',\n      width: 270,\n      borderRadius: 20,\n      backgroundColor: '#f5576c'\n    },\n    onTouchStart: onTapLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      color: 'white',\n      lineHeight: 50\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, \"Order Now\"))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  navigation: {\n    flex: 1,\n    marginTop: 40,\n    marginBottom: 10\n  },\n  body: {\n    flex: 10,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    shoppingReducer: state.shoppingReducer,\n    userReducer: state.userReducer\n  };\n};\n\nvar CardScreen = connect(mapStateToProps, {\n  addProduct: addProduct,\n  removeProduct: removeProduct\n})(_CardScreen);\nexport { CardScreen };","map":{"version":3,"sources":["D:/NHOM_5_FOOD_ORDERING_17DTHD1/NHOM_5_FOOD_ORDERING_17DTHD1/RN-AppFood/src/screens/CardScreen.tsx"],"names":["React","useEffect","useState","FlatList","addProduct","removeProduct","ButtonWithIcon","FoodCard","useNavigation","connect","_CardScreen","props","isCheckSignIn","setIsCheckSignIn","navigate","userReducer","cart","user","onTapFood","item","eventName","food","length","setIsCheck","console","log","map","x","unit","isCheckCart","onTotal","total","reduce","a","b","price","onTapLogin","vertified","alert","styles","container","navigation","display","flexDirection","justifyContent","height","alignItems","marginLeft","require","fontSize","fontWeight","textAlign","padding","width","body","_id","fontStyle","color","marginBottom","paddingLeft","paddingRight","borderWidth","borderColor","borderRadius","backgroundColor","lineHeight","StyleSheet","create","flex","marginTop","mapStateToProps","state","shoppingReducer","CardScreen"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { View, Text, StyleSheet, Dimensions, Image, ImageSourcePropType, ImageBackground } from 'react-native'\r\nimport { TextInput, TouchableOpacity, FlatList } from 'react-native-gesture-handler'\r\nimport { FoodModel, ApplicationState, ShoppingState, onUpdateCart, UserState, addProduct, removeProduct } from '../redux'\r\nimport { ButtonWithIcon, ButtonAddRemove, FoodCard, SearchBar } from '../component'\r\n\r\nimport { useNavigation, checkExistence } from '../utils'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\n\r\n\r\ninterface CardProps {\r\n    shoppingReducer: ShoppingState,\r\n    userReducer: UserState,\r\n    onUpdateCart: Function,\r\n    addProduct: Function,\r\n    removeProduct: Function\r\n\r\n}\r\nconst _CardScreen: React.FC<CardProps> = (props) => {\r\n\r\n    // const { getParam, goBack } = props.navigation\r\n\r\n    // const food = getParam('food') as FoodModel\r\n\r\n    const [isCheckSignIn, setIsCheckSignIn] = useState(false)\r\n\r\n    const { navigate } = useNavigation()\r\n\r\n    const { cart, user } = props.userReducer\r\n\r\n    const onTapFood = (item: FoodModel, eventName?: string) => {\r\n        if (eventName === 'go_detail') {\r\n            navigate('FoodDetailPage', { food: item })\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (props.userReducer.cart.length === 0) {\r\n            setIsCheck(false)\r\n        } else {\r\n            setIsCheck(true)\r\n        }\r\n\r\n        console.log(cart.map(x => x.unit))\r\n    })\r\n\r\n    const [isCheckCart, setIsCheck] = useState(false)\r\n\r\n\r\n    const onTotal = () => {\r\n        const total = props.userReducer.cart.reduce((a, b) => {\r\n            return a + (b.unit * b.price)\r\n        }, 0)\r\n        return total\r\n    }\r\n\r\n    const onTapLogin = () => {\r\n        if (isCheckCart === true) {\r\n            if (!user.vertified) {\r\n                navigate('LoginPage')\r\n            }\r\n            else {\r\n                navigate('CartDetailPage')\r\n            }\r\n\r\n        }\r\n        else {\r\n            alert('Your cart is empty')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={styles.navigation}>\r\n                <View style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', height: 40, alignItems: 'center', marginLeft: 4 }}>\r\n                    <ButtonWithIcon onTap={() => navigate('HomePage')} width={40} height={50} icon={require('../images/back_arrow.png')} />\r\n                    <View style={{ display: 'flex', flexDirection: 'row', justifyContent: 'flex-end' }}>\r\n                        <Text style={{ fontSize: 20, fontWeight: 'bold', textAlign: 'center', padding: 10 }}>My Cart</Text>\r\n                        <Image style={{ width: 40, height: 40 }} source={(require('../images/orders.png'))} />\r\n                    </View>\r\n                </View>\r\n            </View>\r\n            <View style={styles.body}>\r\n                {\r\n                    props?.userReducer?.cart?.length !== 0 ? (\r\n                        <FlatList\r\n                            showsVerticalScrollIndicator={false}\r\n                            data={props?.userReducer?.cart || []}\r\n                            renderItem={({ item }) => <FoodCard onUpdateCart={props.addProduct} onRemove={props.removeProduct} item={item} onTap={onTapFood} />}\r\n                            keyExtractor={(item) => `${item._id}`}\r\n\r\n                        />\r\n                    ) : <View>\r\n                            <Text style={{ fontSize: 30 }}> Cart empty </Text>\r\n                            <Text onPress={() => navigate('HomePage')} style={{ fontSize: 15, marginLeft: 20, fontStyle: 'italic', color: 'orange' }}>Continue shopping</Text>\r\n                        </View>\r\n                }\r\n            </View>\r\n            <View style={{ display: 'flex', marginBottom: 10 }}>\r\n                <View style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-around', paddingLeft: 20, paddingRight: 20 }}>\r\n                    <Text style={{ fontSize: 20, fontWeight: 'bold', padding: 10, color: 'orange' }}>Total : </Text>\r\n                    <Text style={{ fontSize: 18, fontStyle: 'italic', padding: 10, fontWeight: 'bold' }}>${onTotal()}</Text>\r\n                </View>\r\n                <View style={{\r\n                    height: 50,\r\n                    marginLeft: 40,\r\n                    alignItems: 'center',\r\n                    borderWidth: 1,\r\n                    borderColor: '#f3f3f3',\r\n                    width: 270, borderRadius: 20, backgroundColor: '#f5576c'\r\n                }} onTouchStart={onTapLogin}>\r\n                    <Text style={{ fontSize: 20, color: 'white', lineHeight: 50 }}>\r\n                        Order Now\r\n                    </Text>\r\n                </View>\r\n\r\n            </View>\r\n\r\n        </View>\r\n    )\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#fff'\r\n    },\r\n    navigation: {\r\n        flex: 1,\r\n        marginTop: 40,\r\n        marginBottom: 10\r\n    },\r\n    body: {\r\n        flex: 10,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n})\r\n\r\n\r\n\r\nconst mapStateToProps = (state: ApplicationState) => ({\r\n    shoppingReducer: state.shoppingReducer,\r\n    userReducer: state.userReducer\r\n})\r\n\r\nconst CardScreen = connect(mapStateToProps, { addProduct, removeProduct })(_CardScreen)\r\n\r\nexport { CardScreen }"]},"metadata":{},"sourceType":"module"}